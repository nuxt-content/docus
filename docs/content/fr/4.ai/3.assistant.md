---
title: Assistant IA
description: Ajoutez un chat propulsé par l'IA à votre documentation qui répond aux questions, cite les sources et génère des exemples de code.
navigation:
  icon: i-lucide-sparkles
---

## À propos de l'Assistant

L'Assistant IA répond aux questions sur votre documentation via des requêtes en langage naturel. Il est intégré directement dans votre site de documentation, permettant aux utilisateurs de trouver rapidement des réponses.

Lorsque les utilisateurs posent des questions, l'assistant :

- **Recherche et récupère** le contenu pertinent de votre documentation en utilisant un [serveur MCP](/fr/ai/mcp).
- **Cite les sources** avec des liens navigables vers les pages référencées.
- **Génère des exemples de code** copiables pour aider les utilisateurs à implémenter les solutions.

::prose-note
L'Assistant IA nécessite une clé API pour fonctionner. Il utilise AI SDK Gateway ou l'API OpenAI pour générer les réponses.
::

## Comment ça fonctionne

L'Assistant IA utilise une architecture multi-agents :

1. **Agent principal** - Reçoit les questions des utilisateurs et décide quand rechercher dans la documentation
2. **Agent de recherche** - Utilise les outils du [serveur MCP](/fr/ai/mcp) pour trouver le contenu pertinent
3. **Génération de réponse** - Synthétise les informations en réponses utiles et conversationnelles

Par défaut, l'assistant se connecte au serveur MCP intégré de votre documentation à `/mcp`, lui donnant accès à toutes vos pages sans configuration supplémentaire. Vous pouvez également vous connecter à un serveur MCP externe si nécessaire.

## Démarrage rapide

### 1. Obtenir une clé API

Vous avez besoin d'une des clés API suivantes :

- **AI Gateway API Key** (recommandé) - Fonctionne avec plusieurs fournisseurs d'IA
- **OpenAI API Key** - Accès direct aux modèles OpenAI

### 2. Configurer la variable d'environnement

Ajoutez votre clé API à votre environnement :

```bash [.env]
# Option 1 : AI Gateway (recommandé)
AI_GATEWAY_API_KEY=votre-cle-api

# Option 2 : OpenAI
OPENAI_API_KEY=votre-cle-openai
```

### 3. Déployer

C'est tout ! L'assistant est automatiquement activé lorsqu'une clé API est détectée. Déployez votre documentation et l'assistant sera disponible pour vos utilisateurs.

## Utiliser l'Assistant

Les utilisateurs peuvent interagir avec l'assistant de plusieurs façons :

### Input flottant

Sur les pages de documentation, un champ de saisie flottant apparaît en bas de l'écran. Les utilisateurs peuvent taper leurs questions directement et appuyer sur Entrée pour obtenir des réponses.

::prose-tip
Utilisez le raccourci clavier :kbd{value="meta"} :kbd{value="I"} pour activer l'input flottant.
::

### Expliquer avec l'IA

Chaque page de documentation inclut un bouton **Explain with AI** dans la barre latérale de la table des matières. Cliquer sur ce bouton ouvre l'assistant avec la page actuelle comme contexte.

### Chat en panneau latéral

Lorsqu'une conversation commence, un panneau coulissant s'ouvre sur le côté droit de l'écran. Ce panneau affiche l'historique de la conversation et permet aux utilisateurs de continuer à poser des questions.

## Configuration

Configurez l'assistant via `app.config.ts` :

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    // Titre affiché dans l'en-tête du panneau
    title: 'Demander à l\'IA',

    // Texte placeholder pour le champ de saisie
    placeholder: 'Posez une question...',

    // Afficher l'input flottant sur les pages de documentation
    floatingInput: true,

    // Afficher le bouton "Explain with AI" dans la barre latérale
    explainWithAi: true,

    // Questions FAQ à afficher quand le chat est vide
    faqQuestions: []
  }
})
```

### Questions FAQ

Affichez des questions suggérées quand le chat est vide. Cela aide les utilisateurs à découvrir ce qu'ils peuvent demander.

#### Format simple

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    faqQuestions: [
      'Comment installer Docus ?',
      'Comment personnaliser le thème ?',
      'Comment ajouter des composants à mes pages ?'
    ]
  }
})
```

#### Format avec catégories

Organisez les questions en catégories :

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    faqQuestions: [
      {
        category: 'Démarrage',
        items: [
          'Comment installer Docus ?',
          'Quelle est la structure du projet ?'
        ]
      },
      {
        category: 'Personnalisation',
        items: [
          'Comment changer les couleurs du thème ?',
          'Comment ajouter un logo personnalisé ?'
        ]
      }
    ]
  }
})
```

#### Format multilingue

Pour une documentation multilingue, fournissez les questions FAQ par locale :

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    faqQuestions: {
      en: [
        { category: 'Getting Started', items: ['How do I install?'] }
      ],
      fr: [
        { category: 'Démarrage', items: ['Comment installer ?'] }
      ]
    }
  }
})
```

## Désactiver des fonctionnalités

### Désactiver l'input flottant

Masquez l'input flottant en bas des pages de documentation :

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    floatingInput: false
  }
})
```

### Désactiver "Explain with AI"

Masquez le bouton "Explain with AI" dans la barre latérale de documentation :

```ts [app.config.ts]
export default defineAppConfig({
  aiChat: {
    explainWithAi: false
  }
})
```

### Désactiver l'assistant entièrement

L'assistant est automatiquement désactivé quand aucune clé API n'est configurée. Pour le désactiver explicitement même avec une clé API présente, supprimez simplement les variables d'environnement :

```bash [.env]
# Commentez ou supprimez la clé API
# AI_GATEWAY_API_KEY=votre-cle-api
```

## Configuration avancée

Configurez les options avancées dans `nuxt.config.ts` :

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  aiChat: {
    // Modèle IA (utilise le format AI SDK Gateway)
    model: 'moonshotai/kimi-k2-turbo',

    // Serveur MCP (chemin ou URL)
    mcpServer: '/mcp',

    // Chemin de l'endpoint API
    apiPath: '/api/ai-chat'
  }
})
```

### Configuration du serveur MCP

L'assistant utilise un serveur MCP pour accéder à votre documentation. Vous avez deux options :

#### Utiliser le serveur MCP intégré (par défaut)

Par défaut, l'assistant utilise le serveur MCP intégré de Docus à `/mcp` :

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  aiChat: {
    mcpServer: '/mcp'
  }
})
```

::prose-warning
Assurez-vous que le serveur MCP est activé dans votre configuration. Si vous avez personnalisé le chemin MCP, mettez à jour `mcpServer` en conséquence.
::

#### Utiliser un serveur MCP externe

Connectez-vous à n'importe quel serveur MCP externe en fournissant une URL complète :

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  aiChat: {
    mcpServer: 'https://autre-docs.exemple.com/mcp'
  }
})
```

C'est utile lorsque vous voulez que l'assistant réponde aux questions d'une autre source de documentation, ou lors de la connexion à une base de connaissances centralisée.

### Modèle IA personnalisé

L'assistant utilise `moonshotai/kimi-k2-turbo` par défaut. Vous pouvez le changer pour n'importe quel modèle supporté par AI SDK Gateway :

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  aiChat: {
    model: 'anthropic/claude-sonnet-4-20250514'
  }
})
```

### Nom du site dans les réponses

L'assistant utilise automatiquement le nom de votre site dans ses réponses. Configurez le nom du site dans `nuxt.config.ts` :

```ts [nuxt.config.ts]
export default defineNuxtConfig({
  site: {
    name: 'Ma Documentation'
  }
})
```

Cela permet à l'assistant de répondre en tant qu'"assistant de Ma Documentation" et de parler avec autorité sur votre produit spécifique.

## Accès programmatique

Utilisez le composable `useAIChat` pour contrôler l'assistant programmatiquement :

```vue
<script setup>
const { isEnabled, isOpen, open, close, toggle } = useAIChat()

function askQuestion() {
  // Ouvrir l'assistant avec une question pré-remplie
  open('Comment configurer le thème ?', true)
}
</script>

<template>
  <UButton v-if="isEnabled" @click="askQuestion">
    Demander sur les thèmes
  </UButton>
</template>
```

### API du composable

| Propriété | Type | Description |
|-----------|------|-------------|
| `isEnabled` | `ComputedRef<boolean>` | Si l'assistant est activé (clé API présente) |
| `isOpen` | `Ref<boolean>` | Si le panneau est ouvert |
| `open(message?, clearPrevious?)` | `Function` | Ouvrir l'assistant, optionnellement avec un message |
| `close()` | `Function` | Fermer le panneau de l'assistant |
| `toggle()` | `Function` | Basculer l'assistant ouvert/fermé |
| `clearMessages()` | `Function` | Effacer l'historique de conversation |
