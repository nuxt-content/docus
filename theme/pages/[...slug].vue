<script setup lang="ts">
definePageMeta({
  middleware: [
    'page',
    /* 'components' */
  ],
})

const { page, theme } = useDocus()

useHead({
  title: `${theme.value?.title} | ${page.value?.title}`,
  description: page.value?.description || theme.value?.description || '',
  meta: [
    { hid: 'og:site_name', property: 'og:site_name', content: 'Nuxt' },
    { hid: 'og:type', property: 'og:type', content: 'website' },
    { hid: 'twitter:site', name: 'twitter:site', content: theme.value?.url || theme.value?.twitter ||Â '' },
    {
      hid: 'twitter:card',
      name: 'twitter:card',
      content: 'summary_large_image',
    },
    {
      hid: 'og:image',
      property: 'og:image',
      content: theme.value?.cover || '',
    },
    {
      hid: 'og:image:secure_url',
      property: 'og:image:secure_url',
      content: theme.value?.cover || '',
    },
    {
      hid: 'og:image:alt',
      property: 'og:image:alt',
      content: theme.value?.coverAlt || '',
    },
    {
      hid: 'twitter:image',
      name: 'twitter:image',
      content: theme.value?.cover || '',
    },
  ],
})
</script>

<template>
  <Content v-if="page" class="content" :document="page" />
  <p v-else>
    <Alert type="warning">
      Page not found!
    </Alert>
  </p>
</template>

<style scoped>
.content {
  & > :first-child {
    margin-top: 0 !important;
  }
}
</style>
